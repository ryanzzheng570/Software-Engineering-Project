<!DOCTYPE html>
<html lang="en">
<html xmlns:th="https://www.thymeleaf.org">

<head>
    <script type="text/javascript" th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js}">
    </script>
    <title>Checkout </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <h2>Shopping Cart</h2>
    <div id="emptyCart" th:if="${#lists.isEmpty(items)}"><h2>Your cart is empty!</h2></div>
    <div id="cartSection" th:unless="${#lists.isEmpty(items)}">
        <span hidden id="customerID" th:value="${customer}"></span>
        <table id="cartTable">
            <tr>
                <th>Store</th>
                <th>Name</th>
                <th>Quantity</th>
                <th>Inventory Remaining</th>
                <th>Individual Cost</th>
            </tr>
            <tr th:each="item: ${items}">
                <td><a th:href="@{/goToShopCustomerView?shopId={id}(id=${item.storeID})}" th:text="${item.storeName}" th:value="${item.storeID}"></a></td>
                <td class="item" style="text-align:center" th:text="${item.itemName}" th:value="${item.id}"></td> 
                <td style="text-align:center" class="itemQuantity">
                    <input class="inv" name="quantity" type="number" min="1" th:max="${item.inventory}" value="1"
                        onchange="updateCost()" />
                </td>
                <td class="maxInv" style="text-align:center" name="itemInventory" th:text="${item.inventory}"></td>
                <td class="cost" style="text-align:center" th:text="${item.cost}"></td>
                <td style="text-align:center"><button class="rem" th:value="${item.id}">Remove From Cart</button></td>
        </table>
        <p id="totalCost">Total Cost: </p>
        <h3>Payment Info</h3>
        <label for="paymentName">Name</label><br>
        <input type="text" id="paymentName" name="paymentName"><br>
        <label for="ccNum">Credit Card Number</label><br>
        <input type="number" id="ccNum" name="ccNum"><br>
        <input style="margin-top:10px" type="submit" onclick="checkout()" value="Checkout" />
    </div>

    <script type="text/javascript" th:src="@{/js/LoadingAnimationController.js}"></script>
    <script type="text/javascript" src="/js/SidebarController.js"></script>
    <script type="text/javascript" src="/js/CloudServiceController.js"></script>
    <script type="text/javascript" src="/js/CheckoutController.js"></script>

</body>

</html>